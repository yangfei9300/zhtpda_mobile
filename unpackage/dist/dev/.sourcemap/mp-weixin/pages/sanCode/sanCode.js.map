{"version":3,"sources":["uni-app:///main.js","webpack:///D:/project/vue/展汇通PDA（手机版）/pages/sanCode/sanCode.vue?0ead","webpack:///D:/project/vue/展汇通PDA（手机版）/pages/sanCode/sanCode.vue?8c44","webpack:///D:/project/vue/展汇通PDA（手机版）/pages/sanCode/sanCode.vue?d073","webpack:///D:/project/vue/展汇通PDA（手机版）/pages/sanCode/sanCode.vue?12c9","uni-app:///pages/sanCode/sanCode.vue","webpack:///D:/project/vue/展汇通PDA（手机版）/pages/sanCode/sanCode.vue?ceed","webpack:///D:/project/vue/展汇通PDA（手机版）/pages/sanCode/sanCode.vue?3951"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","data","zhanhuiInfo","exhList","cishuNum","lianxu","invTime","menType","menList","exhInfo","scanResult","isLixian","selResultCount","lianxuIs","onLoad","console","onShow","onUnload","methods","hexiaoLuntan","data1","exhId","unionid","userId","activityId","axios","then","catch","hexiao","params","doorId","getExhList","uni","getMenList","exhChange","menChange","toLogin","title","content","success","url","openSQL","DB","closeSQL","saveZhanhui","loginPhone","loginName","type","createTime","obg","selectHexiaoNum","updateHexiaoNum","showToast","icon","mask","formatDate","now","year","month","date","hour","minute","second","formatDate1"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,gBAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAoH;AACpH;AAC2D;AACL;AACa;;;AAGnE;AAC4M;AAC5M,gBAAgB,mNAAU;AAC1B,EAAE,6EAAM;AACR,EAAE,kFAAM;AACR,EAAE,2FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,sFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAoyB,CAAgB,+yBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;ACgFxzB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eACA;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;IACA;EACA;EACAC;IACA;IACAC;IACA;MACA;MACA;IACA;IACA;IACA;MACA;IACA;IACA;IACA;EACA;EAEAC,2BAEA;EACAC,+BAEA;EAEAC;IAEA;IACAC;MAAA;MAEAC;MACA;QACAC;QACAC;QACAC;QACAC;MACA;MACA;QAAA;QACA;QACA;MACA;MACAT;MACA,YACAU,6CACAC;QACAX;QACA;UACA;UACA;UAEA;QACA;UACA;UACA;QACA;MACA,GACAY;QACAZ;MACA;IACA;IACA;IACAa;MAAA;MAEA;MACA;QACAP;QACAQ;UACAP;UACAC;UACAO;QACA;QACA;MACA;;MACA;QAAA;QACA;QACA;MACA;MACA,YACAL,6CACAC;QACAX;QACA;UACA;UACA;UACA;QACA;UACA;QACA;MACA,GACAY;QAEAZ;MACA;IACA;IACA;IACAgB;MAAA;MACA;MACAhB;MACA,YACAU,4CACAC;QACAX;QACA;UACA;UACA;YACAiB;UACA;QAEA;UACA;QACA;MACA,GACAL;IACA;IAEA;IACAM;MAAA;MACA;QACAZ;MACA;MACAN;MACA,YACAU,4CACAC;QACA;UACA;QACA;UACA;UACA;QACA;MACA,GACAC;IACA;IAEA;IACAO;MACAnB;MACA;MAEAiB;MACAA;MACA;MACA;IACA;IACA;IACAG;MACA;MACAH;IACA;IACA;IACAI;MACAxC;QACAyC;QACAC;QACAC;UACA;YACAP;cACAQ;YACA;UACA;YACAzB;UACA;QACA;MACA;IACA;IAGA;IACA0B;MAAA;MACA;MACA;MACA1B;MACA;QACA2B,6BACAhB;UACAX;UACA;QACA,GACAY;UACAZ;QACA;MACA;QACA;MACA;IACA;IACA;IACA4B;MACA;MACA;MACA;QACAD,8BACAhB;UACAX;QACA,GACAY;UACAZ;QACA;MACA;IACA;IAEA;IACA6B;MAAA;MACA7B;MACA;MACA;MACA;QACA;QACA;MACA;MACA;QACA;QACA;MACA;MACA;QACA8B;QACAC;QACAzB;QACAG;QACAM;QACAR;QACAC;QAAA;QACAwB;QACA;QACAC;MACA;MACA;QACAC;MACA;MACAA;MAEA;MACA;MACA;MACA;MACAP,6DACAhB;QACAX;QACA;QACA;UACA;UACA;YACA;UACA;YACA;UACA;QACA;MAEA,GACAY;QACAZ;MACA;IACA;IAEA;IACAmC;MAAA;MACA;MACA;MACA;MACAR,8HACA,iBACAhB;QACAX;QACA;UACA;UACAH;UACA;QACA;UACA;QACA;MACA,GACAe,wBACA;IACA;IACA;IACAwB;MAAA;MACA;MACAvC;MACA;MACA;MACA8B,sFACAhB;QACAX;MACA,GACAY;QACAZ;QACA;MACA;IACA;IACA;IACAqC;MACApB;QACAqB;QACAhB;QACAiB;MACA;IACA;IAEA;IACAC;MACA;MACA;MACA,YACAC,0BACA,6BACAA;MACA;MACA;MACA,aACAA;MACA,aACAA;MACA,OACAC,OACA,MACAC,QACA,MACAC,OACA,MACAC,OACA,MACAC,SACA,MACAC;IAEA;IAEAC;MACA;MACA;MACA,YACAP,0BACA,6BACAA;MACA;MACA;MACA,aACAA;MACA,aACAA;MACA,OACAC,OACA,MACAC,QACA,MACAC;IAEA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;AC3bA;AAAA;AAAA;AAAA;AAAooC,CAAgB,gnCAAG,EAAC,C;;;;;;;;;;;ACAxpC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/sanCode/sanCode.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/sanCode/sanCode.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./sanCode.vue?vue&type=template&id=05f9b23c&\"\nvar renderjs\nimport script from \"./sanCode.vue?vue&type=script&lang=js&\"\nexport * from \"./sanCode.vue?vue&type=script&lang=js&\"\nimport style0 from \"./sanCode.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!E:\\\\yangfei\\\\ide\\\\HBuilderX.3.5.2.2-alpha\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/sanCode/sanCode.vue\"\nexport default component.exports","export * from \"-!E:\\\\yangfei\\\\ide\\\\HBuilderX.3.5.2.2-alpha\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!E:\\\\yangfei\\\\ide\\\\HBuilderX.3.5.2.2-alpha\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!E:\\\\yangfei\\\\ide\\\\HBuilderX.3.5.2.2-alpha\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!E:\\\\yangfei\\\\ide\\\\HBuilderX.3.5.2.2-alpha\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!E:\\\\yangfei\\\\ide\\\\HBuilderX.3.5.2.2-alpha\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\yangfei\\\\ide\\\\HBuilderX.3.5.2.2-alpha\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./sanCode.vue?vue&type=template&id=05f9b23c&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!E:\\\\yangfei\\\\ide\\\\HBuilderX.3.5.2.2-alpha\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\yangfei\\\\ide\\\\HBuilderX.3.5.2.2-alpha\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!E:\\\\yangfei\\\\ide\\\\HBuilderX.3.5.2.2-alpha\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\yangfei\\\\ide\\\\HBuilderX.3.5.2.2-alpha\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\yangfei\\\\ide\\\\HBuilderX.3.5.2.2-alpha\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./sanCode.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!E:\\\\yangfei\\\\ide\\\\HBuilderX.3.5.2.2-alpha\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\yangfei\\\\ide\\\\HBuilderX.3.5.2.2-alpha\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!E:\\\\yangfei\\\\ide\\\\HBuilderX.3.5.2.2-alpha\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\yangfei\\\\ide\\\\HBuilderX.3.5.2.2-alpha\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\yangfei\\\\ide\\\\HBuilderX.3.5.2.2-alpha\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./sanCode.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"colonn center_center\"\r\n\t>\r\n\t\t<view class=\"roww w-710 border_bottom\" style=\"padding:20rpx 20rpx;font-size: 30rpx;\">\r\n\t\t\t<view>当前展会</view>\r\n\t\t\t<view class=\"allline\"></view>\r\n\t\t\t\t\r\n\t\t\t\t<view  style=\"color: #000000;text-align: right;\" class=\"w-500 txtShowLength\">\r\n\t\t\t\t\t<block v-if=\"exhInfo\">\r\n\t\t\t\t\t\t{{exhInfo[0]}}\r\n\t\t\t\t\t</block>\r\n\t\t\t\t\t<block v-else>\r\n\t\t\t\t\t\t请选择展会\r\n\t\t\t\t\t</block>\r\n\t\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"roww w-710 border_bottom\" style=\"padding:20rpx 20rpx;font-size: 30rpx;\">\r\n\t\t\t<view>当前状态</view>\r\n\t\t\t<view class=\"allline\"></view>\r\n\t\t\t\t<view  style=\"color: #000000;text-align: right;\" class=\"w-500 txtShowLength\">\r\n\t\t\t\t\t<block v-if=\"isLixian==2\">\r\n\t\t\t\t\t\t离线模式\r\n\t\t\t\t\t</block>\r\n\t\t\t\t\t<block v-else>\r\n\t\t\t\t\t\t在线模式\r\n\t\t\t\t\t</block>\r\n\t\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"roww w-710 border_bottom\" style=\"padding:20rpx 20rpx;font-size: 30rpx;\">\r\n\t\t\t<view>懒人模式（连续扫描）</view>\r\n\t\t\t<view class=\"allline\"></view>\r\n\t\t\t<view  style=\"color: #000000;text-align: right;font-weight: bold;\" class=\"w-300 \"\r\n\t\t\t\t@click.stop=\"lianxuIsClick\"\r\n\t\t\t>\r\n\t\t\t\t\t{{lianxuIs?'关闭':'开启'}}\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"btncen center_center colonn\" style=\"margin-top: 40%;\">\r\n\t\t\t <!-- <block v-if=\"lianxu\"> -->\r\n\t\t\t <!--  @click=\"continueScanFunc(false)\" -->\r\n\t\t\t\t<view style=\"color: #ffffff;font-size: 40rpx;line-height: 30rpx;font-weight: bold;\" \r\n\t\t\t\tclass=\"colonn center_center\">\r\n\t\t\t\t\t<view>核销手机号</view>\r\n\t\t\t\t\t<view style=\"color: #ffffff;margin-top: 20rpx;margin-top: 45rpx;\">{{scanResult}}</view>\r\n\t\t\t\t</view>\r\n\t\t\t<!-- </block> -->\r\n\t\t\t<!-- <block v-else> -->\r\n\t\t\t\t<!-- <view style=\"color: #ffffff;font-size: 40rpx;\" @click=\"continueScanFunc(true)\">开启连续扫描</view> -->\r\n\t\t\t<!-- </block> -->\r\n\t\t\t\r\n\t\t</view>\r\n\t\t\r\n<!-- \t\t<view class=\"btncen1\" style=\"margin-top: 40%;text-align: center;font-size: 35rpx;text-align: left;padding-left: 25rpx;\">\r\n\t\t\t核销手机号：{{scanResult}}</view> -->\r\n\t\t\r\n\t\t<view class=\"roww center_center width poab\" style=\"bottom: 40rpx;\">\r\n\t\t\t<view class=\"w-50\"></view>\r\n\t\t\t<view style=\"color:#000000;\">\r\n\t\t\t\t<view style=\"color:#000000;\">\r\n\t\t\t\t\t<block v-if=\"exhInfo\">\r\n\t\t\t\t\t\t{{exhInfo[3]}}\r\n\t\t\t\t\t</block>\r\n\t\t\t\t\t<block v-else>\r\n\t\t\t\t\t\t请选择门\r\n\t\t\t\t\t</block>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"allline roww center_center\">\r\n\t\t\t\t<view v-if=\"selResultCount\">今天总人数：{{selResultCount.count}}</view>\r\n\t\t\t\t<view v-else>数量统计未开放</view>\r\n\t\t\t\t  \r\n\t\t\t</view>\r\n\t\t\t<view style=\"color:#2E7EFC;\" @click.stop=\"toLogin\">退出登录</view>\r\n\t\t\t<view class=\"w-50\"></view>\r\n\t\t</view>\r\n\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport DB from '@/common/sqlite.js'\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tzhanhuiInfo: null,\r\n\t\t\t\texhList: ['展会1', '展会2'],\r\n\t\t\t\tcishuNum: 0,\r\n\t\t\t\tlianxu: false,\r\n\t\t\t\tinvTime: \"1000\",\r\n\t\t\t\tmenType: null,\r\n\t\t\t\tmenList: [],\r\n\t\t\t\texhInfo:null,\r\n\t\t\t\tscanResult:\"\",//扫码结果\r\n\t\t\t\tisLixian:1,//2是离线  1在线\r\n\t\t\t\tselResultCount:null,//统计表的实体类\r\n\t\t\t\tlianxuIs:false,\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad() {\r\n\t\t\tvar exhInfo=uni.getStorageSync(\"exhInfo\")\r\n\t\t\tconsole.log(\"当前扫码信息\",exhInfo);\r\n\t\t\tif(!exhInfo){\r\n\t\t\t\tthis.$tools.showToast(\"请扫展会二维码进行登录\");\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tvar isLixian=uni.getStorageSync(\"isLixian\")\r\n\t\t\tif(isLixian){\r\n\t\t\t\tthis.isLixian=isLixian;\r\n\t\t\t}\r\n\t\t\tthis.exhInfo=exhInfo;\r\n\t\t\tthis.openSQL();\r\n\t\t},\r\n\r\n\t\tonShow() { \r\n\t\t\t\r\n\t\t},  \r\n\t\tonUnload() {\r\n\t\t\t\r\n\t\t},\r\n\r\n\t\tmethods: {\r\n\t\t\t\r\n\t\t\t// 核销论坛入场\r\n\t\t\thexiaoLuntan(data1) {\r\n\t\t\t\t\r\n\t\t\t\tdata1 = data1.split(\"-\");\r\n\t\t\t\tvar data = {\r\n\t\t\t\t\texhId: this.exhInfo[1],\r\n\t\t\t\t\tunionid: data1[0],\r\n\t\t\t\t\tuserId: uni.getStorageSync(\"userInfo\").userId,\r\n\t\t\t\t\tactivityId: data1[1],\r\n\t\t\t\t};\r\n\t\t\t\tif(this.isLixian==2){//离线\r\n\t\t\t\t\tthis.saveZhanhui(data1[0],data1[1],2,false);//1是展会2是论坛  falses是离线\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tconsole.log(\"开始核销论坛\",this.$paths.activitypda,data)\r\n\t\t\t\tthis.$axios\r\n\t\t\t\t\t.axios('post', this.$paths.activitypda, data)\r\n\t\t\t\t\t.then(res => {\r\n\t\t\t\t\t\tconsole.log(\"论坛结果\",res,res.code == 200)\r\n\t\t\t\t\t\tif (res.code == 200) {\r\n\t\t\t\t\t\t\tthis.scanResult=data1[0];\r\n\t\t\t\t\t\t\tthis.$tools.showToast(data1[0] + \"论坛核销成功\");\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tthis.saveZhanhui(data1[0],data1[1],2,true);//1是展会2是论坛  true是在线\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.$tools.showToast(res.msg);\r\n\t\t\t\t\t\t\tthis.scanResult=res.msg;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(err => {\r\n\t\t\t\t\t\tconsole.log(\"报错\",err)\r\n\t\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t// 核销展会入场\r\n\t\t\thexiao(unionid) {\r\n\t\t\t\r\n\t\t\t\t// 扫码结果\r\n\t\t\t\tvar data = {\r\n\t\t\t\t\texhId: this.exhInfo[1],\r\n\t\t\t\t\tparams: { \r\n\t\t\t\t\t\tunionid: unionid,\r\n\t\t\t\t\t\tuserId: uni.getStorageSync(\"userInfo\").userId,\r\n\t\t\t\t\t\tdoorId: this.exhInfo[2],\r\n\t\t\t\t\t},\r\n\t\t\t\t\t// 可以在这里添加大门信息\r\n\t\t\t\t};\r\n\t\t\t\tif(this.isLixian==2){//离线\r\n\t\t\t\t\tthis.saveZhanhui(unionid,\"\",1,false);//1是展会2是论坛  false离线\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tthis.$axios\r\n\t\t\t\t\t.axios('post', this.$paths.visitpdaapi, data)\r\n\t\t\t\t\t.then(res => {\r\n\t\t\t\t\t\tconsole.log(\"和小爱\", res)\r\n\t\t\t\t\t\tif (res.code == 200) {\r\n\t\t\t\t\t\t\tthis.$tools.showToast(unionid + \"核销成功\");\r\n\t\t\t\t\t\t\tthis.scanResult=unionid;\r\n\t\t\t\t\t\t\tthis.saveZhanhui(unionid,\"\",1,true);//1是展会2是论坛  true在线\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.$tools.showToast(res.msg);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(err => {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tconsole.log(\"报错了\",err)\r\n\t\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t// 获取展会列表\r\n\t\t\tgetExhList() {\r\n\t\t\t\tvar data = {};\r\n\t\t\t\tconsole.log(\"获取展会列表\", data, this.$paths.listexhpda)\r\n\t\t\t\tthis.$axios\r\n\t\t\t\t\t.axios('post', this.$paths.listexhpda, data)\r\n\t\t\t\t\t.then(res => {\r\n\t\t\t\t\t\tconsole.log(\"展会列博鳌\", res)\r\n\t\t\t\t\t\tif (res.code == 200) {\r\n\t\t\t\t\t\t\tthis.exhList = res.rows;\r\n\t\t\t\t\t\t\tif (uni.getStorageSync(\"zhanhuiInfo\")) {\r\n\t\t\t\t\t\t\t\tuni.removeStorageSync(\"zhanhuiInfo\")\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.$tools.showToast(res.msg);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(err => {});\r\n\t\t\t},\r\n\r\n\t\t\t// 获取大门列表\r\n\t\t\tgetMenList() {\r\n\t\t\t\tvar data = {\r\n\t\t\t\t\texhId: uni.getStorageSync(\"zhanhuiInfo\").id,\r\n\t\t\t\t};\r\n\t\t\t\tconsole.log(\"获取大门列表\", data, this.$paths.listmenpda);\r\n\t\t\t\tthis.$axios\r\n\t\t\t\t\t.axios('post', this.$paths.listmenpda, data)\r\n\t\t\t\t\t.then(res => {\r\n\t\t\t\t\t\tif (res.code == 200) {\r\n\t\t\t\t\t\t\tthis.menList = res.data;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.menList = [];\r\n\t\t\t\t\t\t\tthis.$tools.showToast(res.msg);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(err => {});\r\n\t\t\t},\r\n\r\n\t\t\t// 展会修改\r\n\t\t\texhChange(res) {\r\n\t\t\t\tconsole.log(res)\r\n\t\t\t\tthis.zhanhuiInfo = this.exhList[res.detail.value];\r\n\r\n\t\t\t\tuni.setStorageSync(\"zhanhuiInfo\", this.zhanhuiInfo)\r\n\t\t\t\tuni.removeStorageSync(\"menType\")\r\n\t\t\t\tthis.menType = null;\r\n\t\t\t\tthis.getMenList();\r\n\t\t\t},\r\n\t\t\t// 修改门\r\n\t\t\tmenChange(res) {\r\n\t\t\t\tthis.menType = this.menList[res.detail.value];\r\n\t\t\t\tuni.setStorageSync(\"menType\", this.menType)\r\n\t\t\t},\r\n\t\t\t// 退出登录\r\n\t\t\ttoLogin() {\r\n\t\t\t\twx.showModal({\r\n\t\t\t\t\ttitle: \"提示\",\r\n\t\t\t\t\tcontent: \"确定要退出吗\",\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\tuni.reLaunch({ \r\n\t\t\t\t\t\t\t\turl: \"/pages/login/login\"\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t} else if (res.cancel) {\r\n\t\t\t\t\t\t\tconsole.log('用户点击取消');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t// 打开数据库\r\n\t\t\topenSQL() {\r\n\t\t\t\t// 这个是查询有没有打开数据库\r\n\t\t\t\tlet open = DB.isOpen();\r\n\t\t\t\tconsole.log(\"数据库状态\", open ? \"开启\" : \"关闭\");\r\n\t\t\t\tif (!open) {\r\n\t\t\t\t\tDB.openSqlite()\r\n\t\t\t\t\t\t.then(res => {\r\n\t\t\t\t\t\t\tconsole.log(\"数据库已打开\");\r\n\t\t\t\t\t\t\tthis.selectHexiaoNum();\r\n\t\t\t\t\t\t})  \r\n\t\t\t\t\t\t.catch(error => {\r\n\t\t\t\t\t\t\tconsole.log(\"数据库开启失败\");\r\n\t\t\t\t\t\t});\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.selectHexiaoNum();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 关闭数据库\r\n\t\t\tcloseSQL() {\r\n\t\t\t\t// 这个是查询有没有打开数据库\r\n\t\t\t\tlet open = DB.isOpen();\r\n\t\t\t\tif (open) {\r\n\t\t\t\t\tDB.closeSqlite()\r\n\t\t\t\t\t\t.then(res => {\r\n\t\t\t\t\t\t\tconsole.log(\"数据库已关闭\");\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.catch(error => {\r\n\t\t\t\t\t\t\tconsole.log(\"数据库关闭失败\");\r\n\t\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 离线保存展会数据\r\n\t\t\tsaveZhanhui(unionid,activityId,type,isLine){\r\n\t\t\t\tconsole.log(\"离线保存\",unionid,activityId,type)\r\n\t\t\t\tvar userInfo=uni.getStorageSync(\"userInfo\");\r\n\t\t\t\tvar exhInfo=uni.getStorageSync(\"exhInfo\")\r\n\t\t\t\tif(!userInfo){\r\n\t\t\t\t\tthis.$tools.showToast(\"请先登录\");\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tif(!exhInfo){\r\n\t\t\t\t\tthis.$tools.showToast(\"请先扫码获取展会信息\");\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}     \r\n\t\t\t\tvar obg={\r\n\t\t\t\t\tloginPhone:userInfo.phoneNum,\r\n\t\t\t\t\tloginName:userInfo.staffName,  \r\n\t\t\t\t\texhId:exhInfo[1],\r\n\t\t\t\t\tactivityId:activityId,\r\n\t\t\t\t\tdoorId:exhInfo[2],\r\n\t\t\t\t\tunionid:unionid,\r\n\t\t\t\t\tuserId:\"\",//离线没有这个\r\n\t\t\t\t\ttype:type,  \r\n\t\t\t\t\t'isLine':isLine,\r\n\t\t\t\t\tcreateTime:this.formatDate(new Date().getTime())\r\n\t\t\t\t}\r\n\t\t\t\tif(this.isLixian==1||(userInfo&&userInfo.userId)){\r\n\t\t\t\t\tobg.userId=userInfo.userId;\r\n\t\t\t\t}  \r\n\t\t\t\tobg.isUpload=false;\r\n\t\t\t\t    \r\n\t\t\t\tlet time = this.formatDate(new Date().getTime());\r\n\t\t\t\tlet sql = `'${obg.loginPhone}','${obg.loginName}','${obg.exhId}','${obg.activityId}','${obg.doorId}','${obg.unionid}','${obg.userId}','${obg.type}','${obg.isLine}','${obg.isUpload}','${obg.createTime}'`;\r\n\t\t\t\tlet condition = \"'loginPhone','loginName','exhId','activityId','doorId','unionid','userId','type','isLine','isUpload','createTime'\";\r\n\t\t\t\t// 新增 DB.insertTableData(表名, 对应表头列的数据)\r\n\t\t\t\tDB.insertTableData(\"scan_info\", sql, condition)\r\n\t\t\t\t\t.then(res => {\r\n\t\t\t\t\t\tconsole.log(\"新增数据成功\");\r\n\t\t\t\t\t\tthis.updateHexiaoNum();  \r\n\t\t\t\t\t\tif(!isLine){\r\n\t\t\t\t\t\t\tthis.scanResult=unionid;  \r\n\t\t\t\t\t\t\tif(type==1){\r\n\t\t\t\t\t\t\t\tthis.$tools.showToast(unionid+\"入场离线核销成功\");\r\n\t\t\t\t\t\t\t}else if(type==2){\r\n\t\t\t\t\t\t\t\tthis.$tools.showToast(unionid+\"论坛离线核销成功\");\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t})  \r\n\t\t\t\t\t.catch(error => {\r\n\t\t\t\t\t\tconsole.log(\"失败\", error);\r\n\t\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 查询当前核销的数量\r\n\t\t\tselectHexiaoNum(){\r\n\t\t\t\t\tvar time=this.formatDate1(new Date().getTime());\r\n\t\t\t\t\tvar exhInfo=this.exhInfo;\r\n\t\t\t\t\tvar userInfo=uni.getStorageSync(\"userInfo\");\r\n\t\t\t\t\tDB.selectTableData(\"statistics_num\", 'exhId',exhInfo[1],'doorId',exhInfo[2],'loginPhone',userInfo.phoneNum,\r\n\t\t\t\t\t'dayTime',time)\r\n\t\t\t\t\t\t.then(res => {  \r\n\t\t\t\t\t\t\tconsole.log(\"查询成功\",res);\r\n\t\t\t\t\t\t\tif(res.length>0){\r\n\t\t\t\t\t\t\t\tvar selResultCount=res[0];\r\n\t\t\t\t\t\t\t\tselResultCount.count=parseInt(selResultCount.count);\r\n\t\t\t\t\t\t\t\tthis.selResultCount=selResultCount;\r\n\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\tthis.$tools.showToast(\"查询失败\");\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})                   \r\n\t\t\t\t\t\t.catch(error => {   \r\n\t\t\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t// 修改核销的数量\r\n\t\t\tupdateHexiaoNum(){\r\n\t\t\t\tvar selResultCount=this.selResultCount;\r\n\t\t\t\tselResultCount.count=selResultCount.count+1;\r\n\t\t\t\tvar updateTxt=\"count=\"+parseInt(selResultCount.count);\r\n\t\t\t\tthis.selResultCount=selResultCount;\r\n\t\t\t\tDB.updateTableData(\"statistics_num\",updateTxt,\"id\",selResultCount.id)\r\n\t\t\t\t\t.then(res => {  \r\n\t\t\t\t\t\tconsole.log(\"修改成功\",res);\r\n\t\t\t\t\t})          \r\n\t\t\t\t\t.catch(error => {  \r\n\t\t\t\t\t\tconsole.log(\"修改数量失败\",error);\r\n\t\t\t\t\t\tthis.$tools.showToast(\"修改数量失败\");\r\n\t\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t// 提示框\r\n\t\t\tshowToast: function(str) {\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ticon: \"none\",\r\n\t\t\t\t\ttitle: str,\r\n\t\t\t\t\tmask: true\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t \r\n\t\t\t// 时间戳转年月日\r\n\t\t\tformatDate(data) {\r\n\t\t\t\tlet now = new Date(data);\r\n\t\t\t\tvar year = now.getFullYear(); //取得4位数的年份\r\n\t\t\t\tvar month =\r\n\t\t\t\t\tnow.getMonth() + 1 < 10 ?\r\n\t\t\t\t\t\"0\" + (now.getMonth() + 1) :\r\n\t\t\t\t\tnow.getMonth() + 1;\r\n\t\t\t\tvar date = now.getDate() < 10 ? \"0\" + now.getDate() : now.getDate();\r\n\t\t\t\tvar hour = now.getHours() < 10 ? \"0\" + now.getHours() : now.getHours();\r\n\t\t\t\tvar minute =\r\n\t\t\t\t\tnow.getMinutes() < 10 ? \"0\" + now.getMinutes() : now.getMinutes();\r\n\t\t\t\tvar second =\r\n\t\t\t\t\tnow.getSeconds() < 10 ? \"0\" + now.getSeconds() : now.getSeconds();\r\n\t\t\t\treturn (\r\n\t\t\t\t\tyear +\r\n\t\t\t\t\t\"-\" +\r\n\t\t\t\t\tmonth +\r\n\t\t\t\t\t\"-\" +\r\n\t\t\t\t\tdate +\r\n\t\t\t\t\t\" \" +\r\n\t\t\t\t\thour +\r\n\t\t\t\t\t\":\" +\r\n\t\t\t\t\tminute +\r\n\t\t\t\t\t\":\" +\r\n\t\t\t\t\tsecond\r\n\t\t\t\t);\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\tformatDate1(data) {\r\n\t\t\t\tlet now = new Date(data);\r\n\t\t\t\tvar year = now.getFullYear(); //取得4位数的年份\r\n\t\t\t\tvar month =\r\n\t\t\t\t\tnow.getMonth() + 1 < 10 ?\r\n\t\t\t\t\t\"0\" + (now.getMonth() + 1) :\r\n\t\t\t\t\tnow.getMonth() + 1;\r\n\t\t\t\tvar date = now.getDate() < 10 ? \"0\" + now.getDate() : (now.getDate());\r\n\t\t\t\tvar hour = now.getHours() < 10 ? \"0\" + now.getHours() : now.getHours();\r\n\t\t\t\tvar minute =\r\n\t\t\t\t\tnow.getMinutes() < 10 ? \"0\" + now.getMinutes() : now.getMinutes();\r\n\t\t\t\tvar second =\r\n\t\t\t\t\tnow.getSeconds() < 10 ? \"0\" + now.getSeconds() : now.getSeconds();\r\n\t\t\t\treturn (\r\n\t\t\t\t\tyear +\r\n\t\t\t\t\t\"-\" +\r\n\t\t\t\t\tmonth +\r\n\t\t\t\t\t\"-\" +\r\n\t\t\t\t\tdate \r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t.btncen {\r\n\t\twidth: 700rpx;\r\n\t\theight: 250rpx;\r\n\t\tbackground-color: green;\n\t\tline-height: 350rpx;\r\n\t\ttext-align: center;\r\n\t\tcolor: white;\r\n\t\tborder-radius: 2%;\r\n\t\tcolor: white;\r\n\t}\r\n\t \r\n\t.btncen1 {\r\n\t\twidth: 750rpx;\r\n\t}\r\n\r\n\t.content {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t}\r\n\r\n\t.logo {\r\n\t\theight: 200rpx;\r\n\t\twidth: 200rpx;\r\n\t\tmargin-top: 200rpx;\r\n\t\tmargin-left: auto;\r\n\t\tmargin-right: auto;\r\n\t\tmargin-bottom: 50rpx;\r\n\t}\r\n\r\n\t.text-area {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t}\r\n\r\n\t.title {\r\n\t\tfont-size: 36rpx;\r\n\t\tcolor: #8f8f94;\r\n\t}\r\n</style>\n","import mod from \"-!E:\\\\yangfei\\\\ide\\\\HBuilderX.3.5.2.2-alpha\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!E:\\\\yangfei\\\\ide\\\\HBuilderX.3.5.2.2-alpha\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!E:\\\\yangfei\\\\ide\\\\HBuilderX.3.5.2.2-alpha\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\yangfei\\\\ide\\\\HBuilderX.3.5.2.2-alpha\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!E:\\\\yangfei\\\\ide\\\\HBuilderX.3.5.2.2-alpha\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!E:\\\\yangfei\\\\ide\\\\HBuilderX.3.5.2.2-alpha\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\yangfei\\\\ide\\\\HBuilderX.3.5.2.2-alpha\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./sanCode.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!E:\\\\yangfei\\\\ide\\\\HBuilderX.3.5.2.2-alpha\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!E:\\\\yangfei\\\\ide\\\\HBuilderX.3.5.2.2-alpha\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!E:\\\\yangfei\\\\ide\\\\HBuilderX.3.5.2.2-alpha\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\yangfei\\\\ide\\\\HBuilderX.3.5.2.2-alpha\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!E:\\\\yangfei\\\\ide\\\\HBuilderX.3.5.2.2-alpha\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!E:\\\\yangfei\\\\ide\\\\HBuilderX.3.5.2.2-alpha\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\yangfei\\\\ide\\\\HBuilderX.3.5.2.2-alpha\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./sanCode.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1704859493755\n      var cssReload = require(\"E:/yangfei/ide/HBuilderX.3.5.2.2-alpha/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}