{"version":3,"sources":["uni-app:///main.js","webpack:///D:/project/vue/展汇通PDA（手机版）/pages/login/login.vue?3ca9","webpack:///D:/project/vue/展汇通PDA（手机版）/pages/login/login.vue?8ed9","webpack:///D:/project/vue/展汇通PDA（手机版）/pages/login/login.vue?0e37","webpack:///D:/project/vue/展汇通PDA（手机版）/pages/login/login.vue?52d6","uni-app:///pages/login/login.vue","webpack:///D:/project/vue/展汇通PDA（手机版）/pages/login/login.vue?f4ef","webpack:///D:/project/vue/展汇通PDA（手机版）/pages/login/login.vue?2adb"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","data","form","scanInfo","lianxu","invTime","isLixian","isShowInfo","time","saomare","onLoad","console","onShow","onUnload","methods","saomaClick","uni","onlyFromCamera","success","guanliyuanClick","url","complete","toUploadPage","toGemhxom","isShowInfoClick","toYeji","lixianClick","toSqlite","isLogin2","loginstaffpda","setTimeout","axios","then","catch","openSQL","DB","closeSQL","dropTable","createTable","selCountNUm","addStatisticsData","exhId","exhName","doorId","loginName","loginPhone","dayTime","count","createTime","formatDate","now","year","month","date","isLogin","toLogin"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,cAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAkH;AAClH;AACyD;AACL;AACa;;;AAGjE;AAC4M;AAC5M,gBAAgB,mNAAU;AAC1B,EAAE,2EAAM;AACR,EAAE,gFAAM;AACR,EAAE,yFAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,oFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAkyB,CAAgB,6yBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;ACsHtzB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eACA;EACAC;IACA;MACAC;QACA;QACA;MACA;MACAC;MAAA;MACAC;MACAC;MAEAC;MAAA;MACAC;MAAA;;MAEAC;MACAC;IACA;EACA;EACAC;IACAC;IACA;IACA;MACA;IACA;IACA;IACA;MACA;IACA;IACA;EACA;EACAC,2BAEA;EACAC;IACA;EAAA,CACA;EAEAC;IACAC;MAAA;MACAC;QACAC;QACAC;UACAP;UACA;UACA;YACAR;YACA;YACA;YACAa;UACA;YACA;UACA;QAEA;MACA;IACA;IACAG;MACAR;MACAK;QACAI;QACAC;UACAV;QACA;MACA;IACA;IAEAW;MACAN;QACAI;MACA;IACA;IAEAG;MACAP;QACAI;MACA;IACA;IAEAI;MACA;IACA;IACA;IACAC;MACAT;QACAI;MACA;IACA;IAEAM;MACA;IACA;IAIAC;MACAX;QACAI;QACAC;UACAV;QACA;MACA;IACA;IAGA;IACAiB;MACAjB;MACA;QACA;QACA;MACA;MACA;QACA;QACA;MACA;MACA;QACA;QACA;MACA;MACA;QACA;QACA;MACA;MACA;IACA;IACAkB;MAAA;MACA;QACA;MACA;MACA;MACAb;MACAA;MACA;MACA;QACAA;QAEAc;UACAd;YACAI;UACA;QACA;QAEA;MACA;MAEA,YACAW,+CACAC;QACArB;QACA;UACAV;UACAe;UAEAc;YACAd;cACAI;YACA;UACA;QAEA;UACA;QACA;MACA,GACAa;IACA;IAGA;IACAC;MAAA;MACA;MACA;MACAvB;MACA;QACAwB,6BACAH;UACArB;UACA;QACA,GACAsB;UACAtB;QACA;MACA;QACA;MACA;IACA;IACA;IACAyB;MACA;MACA;MACA;QACAD,8BACAH;UACArB;QACA,GACAsB;UACAtB;QACA;MACA;IACA;IACA;IACA0B;MACAF;QACAxB;MACA,GACAsB;QACAtB;MACA;IACA;IACA;IACA2B;MAAA;MACA;MACA;QACA,UACA;QACA;QACAH,8CACAH;UACArB;QACA,GACAsB;UACAtB;UACA;QACA;QAEA,WACA;QAEAwB,oDACAH;UACArB;QACA,GACAsB;UACAtB;UACA;QACA;MACA;QACAA;QACA;MACA;IACA;IAEA;IACA4B;MAAA;MACA;MACA5B;MACA;MACA;MACAwB,kJACAH;QACArB;QACA;QACA;UACA;QACA;MACA,GACAsB;QACAtB;QACA;MACA;IACA;IACA;IACA6B;MACA;MACA;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;MACA;MAEA;MACA;MACA;MACAb,kEACAH;QACArB;MACA,GACAsB;QACAtB;MACA;IACA;IAUAsC;MACA;MACA;MACA,YACAC,0BACA,6BACAA;MACA;MACA;MACA,aACAA;MACA,aACAA;MACA,OACAC,OACA,MACAC,QACA,MACAC;IAEA;IAgBA;IACAC;MACA;QACA;QACA;MACA;MACA;QACA;QACA;MACA;MACA;IACA;IACAC;MAAA;MACA;QACA;MACA;MACA;MACAvC;MACA,YACAe,6CACAC;QACA;UACAhB;UACA;UACAc;YACAd;cACAI;YACA;UACA;QACA;UACA;QACA;MACA,GACAa;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;ACreA;AAAA;AAAA;AAAA;AAAkoC,CAAgB,8mCAAG,EAAC,C;;;;;;;;;;;ACAtpC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/login/login.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/login/login.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./login.vue?vue&type=template&id=b237504c&\"\nvar renderjs\nimport script from \"./login.vue?vue&type=script&lang=js&\"\nexport * from \"./login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./login.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!E:\\\\yangfei\\\\ide\\\\HBuilderX.3.5.2.2-alpha\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/login/login.vue\"\nexport default component.exports","export * from \"-!E:\\\\yangfei\\\\ide\\\\HBuilderX.3.5.2.2-alpha\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!E:\\\\yangfei\\\\ide\\\\HBuilderX.3.5.2.2-alpha\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!E:\\\\yangfei\\\\ide\\\\HBuilderX.3.5.2.2-alpha\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!E:\\\\yangfei\\\\ide\\\\HBuilderX.3.5.2.2-alpha\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!E:\\\\yangfei\\\\ide\\\\HBuilderX.3.5.2.2-alpha\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\yangfei\\\\ide\\\\HBuilderX.3.5.2.2-alpha\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./login.vue?vue&type=template&id=b237504c&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!E:\\\\yangfei\\\\ide\\\\HBuilderX.3.5.2.2-alpha\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\yangfei\\\\ide\\\\HBuilderX.3.5.2.2-alpha\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!E:\\\\yangfei\\\\ide\\\\HBuilderX.3.5.2.2-alpha\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\yangfei\\\\ide\\\\HBuilderX.3.5.2.2-alpha\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\yangfei\\\\ide\\\\HBuilderX.3.5.2.2-alpha\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!E:\\\\yangfei\\\\ide\\\\HBuilderX.3.5.2.2-alpha\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\yangfei\\\\ide\\\\HBuilderX.3.5.2.2-alpha\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!E:\\\\yangfei\\\\ide\\\\HBuilderX.3.5.2.2-alpha\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\yangfei\\\\ide\\\\HBuilderX.3.5.2.2-alpha\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\yangfei\\\\ide\\\\HBuilderX.3.5.2.2-alpha\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./login.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view>\r\n\t\t\r\n\t\t<!-- <view class=\"roww center_center\"\r\n\t\t@click.stop=\"dropTable( 'scan_info' )\"\r\n\t\t>\r\n\t\t\t<view class=\"xiayibubtn  fs-35\"\r\n\t\t\tstyle=\"width: 140rpx;\"\r\n\t\t\t>删核销</view>\r\n\t\t</view>    \r\n\t\t<view class=\"roww center_center\"\r\n\t\t@click.stop=\"dropTable('statistics_num')\"\r\n\t\t>\r\n\t\t\t<view class=\"xiayibubtn fs-35\"\r\n\t\t\tstyle=\"width: 140rpx;\"\r\n\t\t\t>删统计</view>    \r\n\t\t</view>\r\n\t\t -->\r\n\t\t\r\n\t\t    \r\n\t\t <!-- {{time}}--------{{saomare}} -->      \r\n\t\t <!-- style=\"height: 100vh;\" -->\r\n\t\t<view class=\"colonn center_center pore\"  >\r\n\t\t\t<view class=\"roww endend poab\"\r\n\t\t\t style=\"margin-top: 30rpx;top: 0rpx;\"\r\n\t\t\t @click.stop=\"lixianClick\">\r\n\t\t\t <view class=\"allline\"></view>\r\n\t\t\t\t<image src=\"/static/xuanzhongsel.png\" v-if=\"isLixian==2\" class=\"w-30 h-30\"></image>\r\n\t\t\t\t<image src=\"/static/xuanzhongno.png\" v-else class=\"w-30 h-30\"></image>\r\n\t\t\t\t<view>是否开启离线模式（请联系管理员操作）</view>\r\n\t\t\t\t<view class=\"w-35\"></view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"h-50\"></view>\r\n\t\t\t<view class=\"colonn  p-all-25 \">\r\n\t\t\t\t<view class=\"roww  center_center fs-35 border_bottom m-top-25 p-bottom-20\"\r\n\t\t\t\t@longtap=\"isShowInfoClick\" \r\n\t\t\t\t>\r\n\t\t\t\t\t<view class=\"roww center_center\">\r\n\t\t\t\t\t\t<text class=\"color2_r m-right-5\">*</text>\r\n\t\t\t\t\t\t<view>扫码</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"w-20\"></view>\r\n\t\t\t\t\t<view class=\"roww center_center\">\r\n\t\t\t\t\t\t<view class=\"colonn\" v-if=\"scanInfo\">\r\n\t\t\t\t\t\t\t<view  style=\"color: blue;\">{{scanInfo[0]}}</view>\r\n\t\t\t\t\t\t\t<view  style=\"color: blue;\">（{{scanInfo[3]}}）</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<view v-else style=\"color: red;\"\r\n\t\t\t\t\t\t@click.stop=\"saomaClick\"\r\n\t\t\t\t\t\t>请扫码获取展会信息</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"allline\"></view>\r\n\t\t\t\t</view>\r\n\t\t\t\t\r\n\t\t\t\t<view class=\"colonn  fs-35 border_bottom m-top-25 p-bottom-10\">\r\n\t\t\t\t\t<view class=\"roww  center_center\">\r\n\t\t\t\t\t\t<text class=\"color2_r m-right-5\">*</text>\r\n\t\t\t\t\t\t<view  class=\"fs-40\">姓名</view>\r\n\t\t\t\t\t\t<view class=\"allline\"></view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"h-15\"></view>\r\n\t\t\t\t\t<input maxlength=\"11\" v-model=\"form.staffName\" \r\n\t\t\t\t\tclass=\"fs-40 m-left-15\" placeholder-class=\"fs-40\" placeholder=\"请输入姓名\" />\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"colonn  fs-35 border_bottom m-top-25 p-bottom-10\">\r\n\t\t\t\t\t<view class=\"roww  center_center\">\r\n\t\t\t\t\t\t<text class=\"color2_r m-right-5\">*</text>\r\n\t\t\t\t\t\t<view class=\"fs-40\">手机号</view>\r\n\t\t\t\t\t\t<view class=\"allline\"></view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"h-15\"></view>\r\n\t\t\t\t\t<input maxlength=\"11\" v-model=\"form.phoneNum\" \r\n\t\t\t\t\tclass=\"fs-40 m-left-15\" placeholder-class=\"fs-40\"  placeholder=\"请输入手机号\" />\r\n\t\t\t\t</view>\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t<view class=\"roww center_center\"\r\n\t\t\t\t@click.stop=\"loginstaffpda\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<view class=\"xiayibubtn fs-35\"\r\n\t\t\t\t\t>登录</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"roww center_center\"\r\n\t\t\t\t@click.stop=\"toYeji(1)\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<view class=\"xiayibubtn fs-35\"\r\n\t\t\t\t\t>查看业绩</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"roww center_center\"\r\n\t\t\t\t@longtap=\"toYeji(2)\" v-if=\"isShowInfo\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<view class=\"xiayibubtn fs-35\"   \r\n\t\t\t\t\t>扫码记录</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"roww center_center\"\r\n\t\t\t\t   @longtap=\"toUploadPage()\" v-if=\"isShowInfo\"\r\n\t\t\t\t   >\r\n\t\t\t\t   \t<view class=\"xiayibubtn fs-35\"\r\n\t\t\t\t   \t>离线数据上传</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t  <view class=\"h-150\"></view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<view class=\"gengxinbtn\"\r\n\t\t@click.stop=\"toGemhxom\"\r\n\t\t>检查更新</view>\r\n\t\t\r\n\t\t<view class=\"gengxinbtn1 yincang1\"\r\n\t\t@longtap=\"guanliyuanClick\"\r\n\t\t>管理员</view>\r\n\t\t\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport DB from '@/common/sqlite.js'\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tform:{\r\n\t\t\t\t  \"phoneNum\": \"\",\r\n\t\t\t\t  \"staffName\": \"\",\r\n\t\t\t\t},\r\n\t\t\t\tscanInfo:null,//扫码结果为空\r\n\t\t\t\tlianxu: false,\r\n\t\t\t\tinvTime: \"1000\",\r\n\t\t\t\t\r\n\t\t\t\tisLixian:1,//1是在线2是离线\r\n\t\t\t\tisShowInfo:false,//扫码记录\r\n\t\t\t\t\r\n\t\t\t\ttime:\"\",\r\n\t\t\t\tsaomare:\"\"\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad(){\r\n\t\t\tconsole.log(\"刚开始架子啊\")\r\n\t\t\tvar form_login=uni.getStorageSync(\"form_login\")\r\n\t\t\tif(form_login){  \r\n\t\t\t\tthis.form=form_login;\r\n\t\t\t} \r\n\t\t\tvar scanInfo=uni.getStorageSync(\"exhInfo\")\r\n\t\t\tif(scanInfo){  \r\n\t\t\t\tthis.scanInfo=scanInfo;\r\n\t\t\t}\r\n\t\t\tthis.openSQL();\r\n\t\t},\r\n\t\tonShow() {\r\n\t\t\t\r\n\t\t},\r\n\t\tonUnload() {\r\n\t\t\t// this.closeSQL();//关闭数据库\r\n\t\t},\r\n\t\t\r\n\t\tmethods: {\r\n\t\t\tsaomaClick(){   \r\n\t\t\t\tuni.scanCode({\r\n\t\t\t\t\tonlyFromCamera: true,\r\n\t\t\t\t\tsuccess:  (res)=> {\r\n\t\t\t\t\t\tconsole.log(\"扫码内容\",res)\r\n\t\t\t\t\t\tvar scanInfo=(res.result);\r\n\t\t\t\t\t\tif(scanInfo.indexOf(\"~\")>=0){\r\n\t\t\t\t\t\t\tscanInfo=scanInfo.split(\"~\");\r\n\t\t\t\t\t\t\tthis.scanInfo=scanInfo;\r\n\t\t\t\t\t\t\t// 存储扫码信息\r\n\t\t\t\t\t\t\tuni.setStorageSync(\"exhInfo\",scanInfo)\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tthis.$tools.showToast(\"二维码不正确\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tguanliyuanClick(){\r\n\t\t\t\tconsole.log(\"管理员\")\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl:\"/pages/administrators/administrators\",\r\n\t\t\t\t\tcomplete: (res) => {\r\n\t\t\t\t\t\tconsole.log(\"阿萨德\",res)\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\ttoUploadPage(){\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl:\"/pages/uploadNoLine/uploadNoLine\"\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\ttoGemhxom(){\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl:\"/pages/gengxin/gengxin\"\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\tisShowInfoClick(){\r\n\t\t\t\tthis.isShowInfo=!this.isShowInfo;\r\n\t\t\t},\r\n\t\t\t// 业绩\r\n\t\t\ttoYeji(type){\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl:\"/pages/tongjiNum/tongjiNum?type=\"+type\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\tlixianClick(){\r\n\t\t\t\tthis.isLixian=this.isLixian==1?2:1;\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t\ttoSqlite(){\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl:\"/pages/sqlLite/sqlLite\",\r\n\t\t\t\t\tcomplete: (res) => {\r\n\t\t\t\t\t\tconsole.log(\"跳转结果\",res)\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t// 兼职扫码人员登录下面的弃用了 \r\n\t\t\tisLogin2(){\r\n\t\t\t\tconsole.log(\"asdas\",this.form)\r\n\t\t\t\tif(!this.scanInfo){\r\n\t\t\t\t\tthis.$tools.showToast(\"请先扫展会二维码\");\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tif(this.form.staffName==\"\"){\r\n\t\t\t\t\tthis.$tools.showToast(\"请输入用户名\");\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tif(this.form.phoneNum==\"\"){\r\n\t\t\t\t\tthis.$tools.showToast(\"请输入手机号\");\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tif(!this.$tools.isPhoneNumber(this.form.phoneNum)){\r\n\t\t\t\t\tthis.$tools.showToast(\"请输入正确的手机号\");\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\treturn true;\r\n\t\t\t},\r\n\t\t\tloginstaffpda(){\r\n\t\t\t\tif(!this.isLogin2()){\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tvar data=this.form;  \r\n\t\t\t\tuni.setStorageSync(\"form_login\",data);\r\n\t\t\t\tuni.setStorageSync(\"isLixian\",this.isLixian)\r\n\t\t\t\tthis.selCountNUm();//查询当天总数量\r\n\t\t\t\tif(this.isLixian==2){\r\n\t\t\t\t\tuni.setStorageSync(\"userInfo\",data)\r\n\t\t\t\t\t\r\n\t\t\t\t\tsetTimeout(res=>{\r\n\t\t\t\t\t\tuni.reLaunch({\r\n\t\t\t\t\t\t\turl:\"/pages/sanCode/sanCode\"\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t},200)\r\n\t\t\t\t\t\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t} \r\n\t\t\t\t\r\n\t\t\t\tthis.$axios\r\n\t\t\t\t\t.axios('post', this.$paths.loginstaffpda, data)\r\n\t\t\t\t\t.then(res => {    \r\n\t\t\t\t\t\tconsole.log(\"登录结果\",res,data);\r\n\t\t\t\t\t\tif (res.code == 200) {\r\n\t\t\t\t\t\t\tdata.userId=res.data;\r\n\t\t\t\t\t\t\tuni.setStorageSync(\"userInfo\",data)\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tsetTimeout(res=>{\r\n\t\t\t\t\t\t\t\tuni.reLaunch({  \r\n\t\t\t\t\t\t\t\t\turl:\"/pages/sanCode/sanCode\"\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t},200)\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.$tools.showToast(res.msg);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(err => {});\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t// 打开数据库\r\n\t\t\topenSQL() {\r\n\t\t\t\t// 这个是查询有没有打开数据库\r\n\t\t\t\tlet open = DB.isOpen();\r\n\t\t\t\tconsole.log(\"数据库状态\", open ? \"开启\" : \"关闭\");\r\n\t\t\t\tif (!open) {\r\n\t\t\t\t\tDB.openSqlite()\r\n\t\t\t\t\t\t.then(res => {\r\n\t\t\t\t\t\t\tconsole.log(\"数据库已打开\");\r\n\t\t\t\t\t\t\tthis.createTable()\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.catch(error => {\r\n\t\t\t\t\t\t\tconsole.log(\"数据库开启失败\");\r\n\t\t\t\t\t\t});\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.createTable()\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 关闭数据库\r\n\t\t\tcloseSQL() {\r\n\t\t\t\t// 这个是查询有没有打开数据库\r\n\t\t\t\tlet open = DB.isOpen();\r\n\t\t\t\tif (open) {\r\n\t\t\t\t\tDB.closeSqlite()\r\n\t\t\t\t\t\t.then(res => {\r\n\t\t\t\t\t\t\tconsole.log(\"数据库已关闭\");\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.catch(error => {\r\n\t\t\t\t\t\t\tconsole.log(\"数据库关闭失败\");\r\n\t\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 删除表\r\n\t\t\tdropTable(tableName){\r\n\t\t\t\tDB.dropTable(tableName).then(res => {\r\n\t\t\t\t\t\t\tconsole.log(\"删除\"+tableName+\"表成功\");\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.catch(error => {\r\n\t\t\t\t\t\t\tconsole.log(\"删除\"+tableName+\"表失败\");\r\n\t\t\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t// 创建表\r\n\t\t\tcreateTable() { \r\n\t\t\t\tlet open = DB.isOpen();\r\n\t\t\t\tif (open) {  \r\n\t\t\t\t\tlet sql =\r\n\t\t\t\t\t\t'\"id\" INTEGER PRIMARY KEY AUTOINCREMENT,\"loginName\" text,\"loginPhone\" text,\"exhId\" text,\"activityId\" text,\"doorId\" text,\"unionid\" text,\"userId\" text,\"type\" text,\"isLine\" text,\"isUpload\" text,\"createTime\" text';\r\n\t\t\t\t\t// 创建表 DB.(表名, 表的列)\r\n\t\t\t\t\tDB.createTable(\"scan_info\", sql)\r\n\t\t\t\t\t\t.then(res => {\r\n\t\t\t\t\t\t\tconsole.log(\"创建scan_info表成功\",res);\r\n\t\t\t\t\t\t})   \r\n\t\t\t\t\t\t.catch(error => {\r\n\t\t\t\t\t\t\tconsole.log(\"创建表失败\");\r\n\t\t\t\t\t\t\tthis.$tools.showToast(\"创建scan_info表失败\",error);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\t  \r\n\t\t\t\t\tlet sql1 =\r\n\t\t\t\t\t\t'\"id\" INTEGER PRIMARY KEY AUTOINCREMENT,\"exhId\" text,\"exhName\" text,\"doorId\" text,\"loginName\" text,\"loginPhone\" text,\"dayTime\" text, \"count\" text ,\"createTime\" text';\r\n\t\t\t\t\t\t  \r\n\t\t\t\t\tDB.createTable(\"statistics_num\", sql1)\r\n\t\t\t\t\t\t.then(res => {\r\n\t\t\t\t\t\t\tconsole.log(\"创建statistics_num表成功\",res);\r\n\t\t\t\t\t\t})            \r\n\t\t\t\t\t\t.catch(error => {  \r\n\t\t\t\t\t\t\tconsole.log(\"创建表失败\",error);\r\n\t\t\t\t\t\t\tthis.$tools.showToast(\"创建statistics_num表失败\",error);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t} else {  \r\n\t\t\t\t\tconsole.log(\"数据库未打开\");\r\n\t\t\t\t\tthis.$tools.showToast(\"数据库未打开\");\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t//查询扫码统计数据\r\n\t\t\tselCountNUm(){\r\n\t\t\t\tvar time=this.formatDate(new Date().getTime());\r\n\t\t\t\tconsole.log(\"查询时间\",time)\r\n\t\t\t\tthis.time=time;   \r\n\t\t\t\tvar scanInfo=this.scanInfo;\r\n\t\t\t\tDB.selectTableData(\"statistics_num\", 'exhId',scanInfo[1],'doorId',scanInfo[2],'loginPhone',this.form.phoneNum,'dayTime',time)\r\n\t\t\t\t\t.then(res => {\r\n\t\t\t\t\t\tconsole.log(\"扫码统计结果\",res)\r\n\t\t\t\t\t\tthis.saomare=JSON.stringify(res)\r\n\t\t\t\t\t\tif(res.length<=0){  \r\n\t\t\t\t\t\t\tthis.addStatisticsData();//添加一条记录\r\n\t\t\t\t\t\t}     \r\n\t\t\t\t\t})               \r\n\t\t\t\t\t.catch(error => {  \r\n\t\t\t\t\t\tconsole.log(\"查询扫码统计数据失败\",error);\r\n\t\t\t\t\t\tthis.$tools.showToast(\"查询扫码统计数据失败\");\r\n\t\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t// 插入统计数据\r\n\t\t\taddStatisticsData(){\r\n\t\t\t\tvar time=this.formatDate(new Date().getTime());\r\n\t\t\t\tvar obg={\r\n\t\t\t\t\texhId:this.scanInfo[1],\r\n\t\t\t\t\texhName:this.scanInfo[0],\r\n\t\t\t\t\tdoorId:this.scanInfo[2],\r\n\t\t\t\t\tloginName:this.form.staffName,\r\n\t\t\t\t\tloginPhone:this.form.phoneNum,\r\n\t\t\t\t\tdayTime:time,\r\n\t\t\t\t\tcount:\"0\",\r\n\t\t\t\t\tcreateTime:this.formatDate(new Date().getTime())\r\n\t\t\t\t}\r\n\t\t\t\t  \r\n\t\t\t\tlet sql = `'${obg.exhId}','${obg.exhName}','${obg.doorId}','${obg.loginName}','${obg.loginPhone}','${obg.dayTime}','${obg.count}','${obg.createTime}'`;\r\n\t\t\t\tlet condition = \"'exhId','exhName','doorId','loginName','loginPhone','dayTime','count','createTime'\";\r\n\t\t\t\t// 新增 DB.insertTableData(表名, 对应表头列的数据)\r\n\t\t\t\tDB.insertTableData(\"statistics_num\", sql, condition)\r\n\t\t\t\t\t.then(res => {\r\n\t\t\t\t\t\tconsole.log(\"新增数据成功\",res);\r\n\t\t\t\t\t})  \r\n\t\t\t\t\t.catch(error => {\r\n\t\t\t\t\t\tconsole.log(\"失败\", error);\r\n\t\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tformatDate(data) {\r\n\t\t\t\tlet now = new Date(data);\r\n\t\t\t\tvar year = now.getFullYear(); //取得4位数的年份\r\n\t\t\t\tvar month =\r\n\t\t\t\t\tnow.getMonth() + 1 < 10 ?\r\n\t\t\t\t\t\"0\" + (now.getMonth() + 1) :\r\n\t\t\t\t\tnow.getMonth() + 1;\r\n\t\t\t\tvar date = now.getDate() < 10 ? \"0\" + now.getDate() :( now.getDate());\r\n\t\t\t\tvar hour = now.getHours() < 10 ? \"0\" + now.getHours() : now.getHours();\r\n\t\t\t\tvar minute =\r\n\t\t\t\t\tnow.getMinutes() < 10 ? \"0\" + now.getMinutes() : now.getMinutes();\r\n\t\t\t\tvar second =\r\n\t\t\t\t\tnow.getSeconds() < 10 ? \"0\" + now.getSeconds() : now.getSeconds();\r\n\t\t\t\treturn (\r\n\t\t\t\t\tyear +\r\n\t\t\t\t\t\"-\" +  \r\n\t\t\t\t\tmonth +\r\n\t\t\t\t\t\"-\" +\r\n\t\t\t\t\t(date) \r\n\t\t\t\t);\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t// 下面是后台管理人员的逻辑\r\n\t\t\tisLogin(){\r\n\t\t\t\tif(this.form.username==\"\"){\r\n\t\t\t\t\tthis.$tools.showToast(\"请输入用户名\");\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tif(this.form.password==\"\"){\r\n\t\t\t\t\tthis.$tools.showToast(\"请输入密码\");\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\treturn true;\r\n\t\t\t},\r\n\t\t\ttoLogin(){\r\n\t\t\t\tif(!this.isLogin()){\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tvar data=this.form;\r\n\t\t\t\tuni.setStorageSync(\"form_login\",data);\r\n\t\t\t\tthis.$axios\r\n\t\t\t\t\t.axios('post', this.$paths.loginpdaapi, data)\r\n\t\t\t\t\t.then(res => {    \r\n\t\t\t\t\t\tif (res.code == 200) {\r\n\t\t\t\t\t\t\tuni.setStorageSync(\"userInfo\",res)\r\n\t\t\t\t\t\t\tthis.$tools.showToast(\"登录成功\");\r\n\t\t\t\t\t\t\tsetTimeout(res=>{\r\n\t\t\t\t\t\t\t\tuni.redirectTo({\r\n\t\t\t\t\t\t\t\t\turl:\"/pages/sanCode/sanCode\"\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t},1000)\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.$tools.showToast(res.msg);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(err => {});\r\n\t\t\t},\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t@import url(login.css);\r\n</style>\n","import mod from \"-!E:\\\\yangfei\\\\ide\\\\HBuilderX.3.5.2.2-alpha\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!E:\\\\yangfei\\\\ide\\\\HBuilderX.3.5.2.2-alpha\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!E:\\\\yangfei\\\\ide\\\\HBuilderX.3.5.2.2-alpha\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\yangfei\\\\ide\\\\HBuilderX.3.5.2.2-alpha\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!E:\\\\yangfei\\\\ide\\\\HBuilderX.3.5.2.2-alpha\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!E:\\\\yangfei\\\\ide\\\\HBuilderX.3.5.2.2-alpha\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\yangfei\\\\ide\\\\HBuilderX.3.5.2.2-alpha\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./login.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!E:\\\\yangfei\\\\ide\\\\HBuilderX.3.5.2.2-alpha\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!E:\\\\yangfei\\\\ide\\\\HBuilderX.3.5.2.2-alpha\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!E:\\\\yangfei\\\\ide\\\\HBuilderX.3.5.2.2-alpha\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\yangfei\\\\ide\\\\HBuilderX.3.5.2.2-alpha\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!E:\\\\yangfei\\\\ide\\\\HBuilderX.3.5.2.2-alpha\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!E:\\\\yangfei\\\\ide\\\\HBuilderX.3.5.2.2-alpha\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\yangfei\\\\ide\\\\HBuilderX.3.5.2.2-alpha\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./login.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1704859494250\n      var cssReload = require(\"E:/yangfei/ide/HBuilderX.3.5.2.2-alpha/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}